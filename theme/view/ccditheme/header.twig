<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>{{ pageTitle }}</title>
    <link rel="stylesheet" href="../../css/students/schooltheme/header.css">
    <link rel="stylesheet" href="../../css/students/schooltheme/notification.css">
    <script src="https://kit.fontawesome.com/a076d05399.js" crossorigin="anonymous"></script>
    <script src="https://code.jquery.com/jquery-3.5.1.min.js"></script>
    <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/js/bootstrap.bundle.min.js"></script>
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css" rel="stylesheet">
</head>

<body>

    <header>
        <nav class="navbar">
            <div class="logo">
                <img src="../../images/ccdilogo.png" alt="CCDI Logo" height="40">
                <span>CCDI Webpay</span>
            </div>
           <div class="notifandbell"> <!-- Notification Bell and User -->
    <!-- Notification Bell -->
    <div class="notification-container">
        <div class="notification-bell">
            <img src="../../images/bellnotification.webp" alt="Notifications" class="notification-icon">
            
            <!-- Notification Badge -->
            <span class="notification-count" style="display: none;">0</span>
        </div>

        <div class="notification-dropdown">
            <ul id="notification-list">
                <li class="loading">Loading notifications...</li>
            </ul>
            <a href="inbox.php" class="view-all">View All</a>
        </div>
    </div>

    <!-- User Menu -->
    <div class="user-menu">
        <button><img src="../../images/students/user-avatar.webp" class="user-avatar" alt="User Avatar">{{students.first_name}}</button>
        <div class="dropdown-menu">
            <ul>
                <li><a href="profile.php">Profile</a></li>    
                <li><a href="#">Settings</a></li>
                <li><a href="#">Help</a></li>
                <li><a href="#">Logout</a></li>
            </ul>
        </div>
    </div>
</div>

        </nav>
    </header>

    <div class="sidebar">
        <div class="logo">
            <img src="../../images/ccdilogo.png" alt="CCDI Logo" height="40">
            <span>CCDI Webpay</span>
        </div>
        <ul>
            <li><a href="new_payment.php"><i class="fas fa-wallet"></i> New Payments</a></li>
            <li><a href="payments.php"><i class="fas fa-wallet"></i> Payments</a></li>
            <li><a href="inbox.php"><i class="fas fa-envelope"></i> Inbox</a></li>
            <li><a href="#"><i class="fas fa-exchange-alt"></i> Transactions</a></li>
            <li><a href="#"><i class="fas fa-credit-card"></i> Cards</a></li>
            <li><a href="#"><i class="fas fa-money-bill"></i> Earn Money</a></li>
        </ul>
    </div>

    <script src="../../js/developer_console.js"></script>
    <script src="../../js/notifications/notification.js"></script>
    <script src="../../js/studentinfo/student_info.js"></script>
    <script>
    document.addEventListener("DOMContentLoaded", function () {
    const sidebar = document.querySelector(".sidebar");
    const toggleButton = document.createElement("button");
    toggleButton.classList.add("sidebar-toggle");
    toggleButton.innerHTML = "â˜°";
    document.body.appendChild(toggleButton);

    toggleButton.addEventListener("click", function () {
        sidebar.classList.toggle("sidebar-hidden");
    });

        // Highlight active sidebar link
        document.querySelectorAll(".sidebar ul li a").forEach(link => {
            if (link.href === window.location.href) {
                link.classList.add("active");
            }
        });
    });

    // User avatar dropdown
    document.addEventListener("DOMContentLoaded", function () {
        const avatar = document.querySelector(".user-avatar");
        const dropdown = document.querySelector(".dropdown-menu");

        avatar.addEventListener("click", function () {
            dropdown.classList.toggle("active");
        });

        document.addEventListener("click", function (event) {
            if (!avatar.contains(event.target) && !dropdown.contains(event.target)) {
                dropdown.classList.remove("active");
            }
        });
    });

    
    </script>

</body>
</html>
